# 蓝桥杯 2022 省 A 求和

## 题目描述
给定 $n$ 个整数 $a_{1}, a_{2}, \cdots, a_{n}$, 求它们两两相乘再相加的和，即
$$
S=a_{1} \cdot a_{2}+a_{1} \cdot a_{3}+\cdots+a_{1} \cdot a_{n}+a_{2} \cdot a_{3}+\cdots+a_{n-2} \cdot a_{n-1}+a_{n-2} \cdot a_{n}+a_{n-1} \cdot a_{n}
$$
## 输入格式
输入的第一行包含一个整数 $n$ 。
第二行包含 $n$ 个整数 $a_{1}, a_{2}, \cdots a_{n}$ 。
## 输出格式
输出一个整数 $S$，表示所求的和。请使用合适的数据类型进行运算。
## 样例 #1
### 样例输入 #1
```
4
1 3 6 9
```
### 样例输出 #1
```
117
```
## 提示
对于 $30 \%$ 的数据, $1 \leq n \leq 1000,1 \leq a_{i} \leq 100$ 。
对于所有评测用例, $1 \leq n \leq 2\times10^5,1 \leq a_{i} \leq 1000$ 。 
蓝桥杯 2022 省赛 A 组 C 题。

### 题解
一开始有点愣住，还在担心会不会爆数据范围，不过给英姿提醒以后知道要用前缀和就好很多，数据类型选了`unsigned long long`
这里的公式可以化简成
$$S = a_1(a_2+a_3+\dots+a_n)+a_2(a_3+a_4+\dots+a_n)+\dots+a_{n-1}a_n$$
故用一个反向的前缀和存就好噜
```c++
#include<bits/stdc++.h>  
using namespace std;  
  
const int N = 200010;  
int a[N];  
int n;  
unsigned long long sum[N];  
unsigned long long sum1;  
  
int main(void){  
        cin >> n;  
    for(int i = 0; i < n; i++) scanf("%d", &a[i]);  
        for(int i = n - 1; i > 0; i--){  
        sum[i] =  sum[i+1] + a[i];     }  
    for(int i = 0; i < n; i++){  
        sum1 += a[i] * sum[i+1];  
    }  
    cout << sum1 << endl;  
}
```
wow还可以用完全平方公式进行计算：
```cpp
#include<bits/stdc++.h>
#define int long long
using namespace std;
int n,x,mul=0,sum=0;
//mul:和的平方
//sum:平方的和
signed main(){
    cin>>n;
    for(int i=1;i<=n;i++){
        cin>>x;
        sum+=(x*x);
        mul+=x;
    }
    cout<<(mul*mul-sum)/2;
    return 0;
}
```
