- 目标:
	对现实世界物体的形状进行数学建模
- 分类:
	线框模型（Wire-frame）
	曲线/曲面模型（Curve/Surface Models）
	实体模型（Solid Models）
		CSG Tree
		边界表示
		细分表示
		三元函数

# 曲线曲面模型
### 基本理论
按照曲线曲面与特征点的位置关系划分，拟合曲线可分为插值曲线与逼近曲线。
- 插值：通过所有的特征点
- 逼近：不通过或部分通过特征点，并在整体上接近这些特征点

### 曲线控制
- 形状 (基于**参数方程**)
- 位置 (基于**中心点**)
- 大小
	- 弧 (基于**参数范围**)
	- 半径 (一个到单位值的**系数**)

>[!info] 通常情况下：
>- 三维空间中的参数曲线具有以下形式：
 $F: [0, 1] → (x(t), y(t), z(t))$
 - 其中$x()、y()和z()$是三个实值函数。因此，$F(t)$将闭区间$[0,1]$中的实数值t映射到空间中的一个点。
  - 为了简化，我们将**定义域**限制为$[0,1]$。因此，对于$[0,1]$中的每个 $t$ 值，都对应着空间中的一个点$(x(t), y(t), z(t))$

#### 切线和切向量
切向量
- 在给定点上与曲线斜率相切的向量
切线
- 包含切向量的直线
##### 切向量计算
给定$F(t)=(x(t),y(t),z(t))$
- 切向量为：$F’(t) = (x’(t), y’(t), z’(t))$，其中$x’(t)= dx/dt, y’(t)= dy/dt, z’(t)= dz/dt$
- 长度：若向量$V=(a,b,c)$，则$|V|=\sqrt{a^2+b^2+c^2}$
- 单位向量：$\vec U_v = \frac{V}{|V|}$

#### 连续性条件
用若干条曲线段连成一条曲线或采用若干张曲面片拼成一张曲面
为了达到整条曲线或整张曲面光顺的要求， 在连接处应满足拼接条件，我们称之为**连续性条件**
- 几何连续性：连接处具有n阶导数**成比例**，记为$G^n$
- 参数连续性：连接处具有n阶**导数相等**，记为$C^n$
![image.png|475](https://cdn.jsdelivr.net/gh/BlackJack0083/image@main/img/20240425083416.png)

$G^1$ 、$G^2$连续限于**低次(四次以下)曲线和曲面**，在连接处关于参数的一阶导数、二阶导数可以不相等，这种连接条件增加了曲线、曲面拼接的灵活性，拼接自由度大，可以构造出适合各种需要的样条曲线或曲面

$C^1$ 、$C^2$连续要求在连接处关于参数的**一阶导数、二阶导数相等**。若在连接处$C^1$ 、$C^2$连续，则必然有$G^1$、$G^2$连续，反之则不然

满足几何连续性不一定满足参数连续性，但是满足参数连续性一般满足几何连续性

#### 曲线段

![image.png|475](https://cdn.jsdelivr.net/gh/BlackJack0083/image@main/img/20240425084012.png)
![image.png|475](https://cdn.jsdelivr.net/gh/BlackJack0083/image@main/img/20240425084112.png)
![image.png|475](https://cdn.jsdelivr.net/gh/BlackJack0083/image@main/img/20240425084210.png)

#### 曲线概念
- 曲线：一个点在一维自由度下运动的轨迹
- 绕率/挠率（ Torsion ）：
	空间曲线**偏离平面**的程度——它试图“逃离”密切平面的程度
- 所有平面曲线的特征：绕率 = 0
- 所有直线的特征：曲率 =0

#### 描述曲线的方式——多项式基
- 基 {1, x, x2 , x3 , …}
	- n次多项式可以插值n+1个点:
	- $A*t^n + B*t^{n-1} + … + X \rightarrow N+1$ 个未知系数 (A..X),因此需要$N+1$个方程
	- **优势**：具有直观的几何意义，多项式易于分析，其导数也是多项式
![image.png|475](https://cdn.jsdelivr.net/gh/BlackJack0083/image@main/img/20240425085816.png)
![image.png|475](https://cdn.jsdelivr.net/gh/BlackJack0083/image@main/img/20240425085827.png)

#### Hermite 曲线
$M_H$: Hermite基础矩阵
$G_H$: 几何约束向量
	曲线第一个$P_1$和最后一个点$P_2$以及这两点的切线$V_1$，$V_2$

#### Bezier曲线
n越大，基函数越多
![image.png|475](https://cdn.jsdelivr.net/gh/BlackJack0083/image@main/img/20240425091525.png)
$n=1$时候，没有自由点
$n=2$时候，$P_1$为自由点，通过$P_1$来控制曲线

![image.png|475](https://cdn.jsdelivr.net/gh/BlackJack0083/image@main/img/20240425091651.png)
$n=3$时，两个自由点

##### Bernstein函数
![image.png|450](https://cdn.jsdelivr.net/gh/BlackJack0083/image@main/img/20240425091741.png)
四个基函数相加的值为1
![image.png|400](https://cdn.jsdelivr.net/gh/BlackJack0083/image@main/img/20240425091938.png)

#### 性质
- 凸包属性：Bézier曲线位于其控制顶点的凸包之内
- 对称性：控制点顺序颠倒不改变曲线的形状
- 几何不变性：Bézier曲线的形状和位置仅与它的**控制顶点的位置**有关，而与具体坐标系的选择无关
- 变差缩减性：Bézier曲线**比控制多边形更光顺**
	控制多边形：控制点形成的多边形
- 交互性：改变控制点位置即可改变曲线形状
- 端点性质：
![image.png](https://cdn.jsdelivr.net/gh/BlackJack0083/image@main/img/20240425092750.png)
![image.png](https://cdn.jsdelivr.net/gh/BlackJack0083/image@main/img/20240425092758.png)
![image.png](https://cdn.jsdelivr.net/gh/BlackJack0083/image@main/img/20240425092804.png)

#### 曲线拼接
设$P(t)$和$Q(t)$为两条三次Bézier曲线
问题提出：如何保证连接处具有$G^0$ 、$G^1$和$G^2$连续性

在两段三次Bezier曲线间得到$G^1$连续性
![image.png|425](https://cdn.jsdelivr.net/gh/BlackJack0083/image@main/img/20240425093535.png)
![image.png|425](https://cdn.jsdelivr.net/gh/BlackJack0083/image@main/img/20240425093733.png)
![image.png|425](https://cdn.jsdelivr.net/gh/BlackJack0083/image@main/img/20240425093744.png)

#### 不足
1. 特征多边形边数与曲线次数严格相关
2. Bezier曲线是一个整体逼近方案，牵一发动全身