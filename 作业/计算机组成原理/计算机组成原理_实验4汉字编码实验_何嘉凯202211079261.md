# 实验目的
1. 理解汉字机内码(GB2312)、区位码、字形码的相关区别，并能批量获取一段文字的GB2312机内码
2. 学习logisim的基本使用，能利用简单电路实现GB2312编码与区位码转换
3. 了解字形码显示的基本原理，并实现汉字GB2312编码点阵显示
# 实验内容(内含代码)
### GB2312与区位码转换
$$GB2312机内码=区位码+A0A0H$$
可利用补码计算实现机内码转换区位码：$$区位码=机内码-A0A0H=机内码+DF60H$$
在Logisim中更改引脚输入，如图：
![image.png|625](https://cdn.jsdelivr.net/gh/BlackJack0083/obsidian@main/img/20240323152752.png)
即可实现机内码与区位码的转换。

### 汉字批量转换GB2312
1. [ASCII/GBK/GB2312中文汉字区位码,内码,编码在线查询软件 (23bei.com)](https://www.23bei.com/tool/54.html#)
直接在网页中输入信息，并进行转换：
![image.png|975](https://cdn.jsdelivr.net/gh/BlackJack0083/obsidian@main/img/20240323153040.png)
2. 通过python程序实现汉字转GB2312:
可以通过`codece`模块实现汉字与GB2312之间的转换
>`codecs`模块是Python标准库中的一个核心组件，它提供了一系列用于处理各种编码和解码操作的函数和类。这个模块的主要作用是支持在不同编码格式之间转换文本数据，包括字符集的转换、字符串的编码和解码等。

> 以下是`codecs`模块的一些关键功能：
>1. **编码（Encoding）**: 将Unicode字符串转换为指定编码的字节串。例如，可以将Unicode文本转换为UTF-8、GB2312、ASCII等编码格式。
>2. **解码（Decoding）**: 将指定编码的字节串转换回Unicode字符串。这允许你读取和处理使用不同编码保存的文件或数据流。
>3. **错误处理**: 在编码和解码过程中，`codecs`模块提供了多种错误处理选项，如忽略、严格、替换等，以应对编码不匹配或损坏的数据。
>4. **流接口**: 除了处理字符串，`codecs`还提供了类似于文件对象的接口，允许你逐块读取和写入编码数据，这对于处理大文件或网络数据流特别有用。
>5. **实用函数**: 模块中包含了一些实用函数，如`lookup`，用于获取特定编码的编码器和解码器对象，以及`getencoder`和`getdecoder`，用于获取特定编码的编码器和解码器函数。
>`codecs`模块使得Python程序能够更好地与不同语言环境和不同格式的数据进行交互，是处理国际化问题的关键工具之一。

```python
import codecs

def convert_to_gb2312(input_str):
    # 将输入的字符串编码为GB2312编码的字节串
    gb2312_bytes = input_str.encode('gb2312')
    return gb2312_bytes

# 示例使用
if __name__ == "__main__":
    # 用户输入的汉字字符串
    user_input = input("请输入汉字字符串：")
    # 转换为GB2312编码
    gb2312_encoded = convert_to_gb2312(user_input)
    # 打印转换后的GB2312编码的字节串
    print("GB2312编码的字节串：", gb2312_encoded)
    # 如果需要保存到文件，可以使用codecs.open()函数
    with codecs.open('output.gb2312', 'wb') as f:
        f.write(gb2312_encoded)
    print("已将GB2312编码的数据保存到文件output.gb2312")
```
输出结果：
![image.png](https://cdn.jsdelivr.net/gh/BlackJack0083/obsidian@main/img/20240323154024.png)
与通过网站转换的结果一致(只是每个前面都加了16进制标识符)

### 汉字显示
![image.png](https://cdn.jsdelivr.net/gh/BlackJack0083/obsidian@main/img/20240323154459.png)
在汉字显示部分修改存储器内容并填写GB2312编码：
![image.png](https://cdn.jsdelivr.net/gh/BlackJack0083/obsidian@main/img/20240323154557.png)
使用`ctrl+k`设置时钟自启动，发现能给出正确输出：
![image.png](https://cdn.jsdelivr.net/gh/BlackJack0083/obsidian@main/img/20240323155731.png)
![image.png](https://cdn.jsdelivr.net/gh/BlackJack0083/obsidian@main/img/20240323155751.png)

# 实验总结
### 机内码、区位码和字形码的区别
- 机内码：计算机内存储字符时使用的编号

| 文字类别 | 标准     | 占位  | 有效位 | MSB(最高有效位) |
| ---- | ------ | --- | --- | ---------- |
| 英文字符 | ASCII  | 单字节 | 7   | 0          |
| 汉字字符 | GB2312 | 双字节 | 14  | 1          |
- 区位码：4位10进制，用于汉字检索，配合GB2312标准使用，并不是机内码
    - 94\*94矩阵 (行--区，列--位，编号从1开始)
    - GB2312 汉字机内码=区位码+0xA0A0
- 字形码：输出汉字点阵的信息编码 32\*32
    - 点阵信息量大，所占存储空间大
    - 用来构成汉字字库，不能用于机内存储
### 字形码显示原理
1. **字符集定义**：首先需要定义一个字符集，包括需要使用的所有汉字以及其他字符。常用的字符集包括GB2312、GBK、Unicode等。
2. **编码规则**：确定每个字符在字符集中的唯一编码。汉字字形码一般采用固定长度的编码，每个字符分配一个唯一的编码，以便计算机能够准确地识别和处理。
3. **字形识别**：根据字符的字形（即形状）来确定其编码。这可以是基于笔画的识别，每个汉字有其特定的笔画顺序和组合，也可以是基于形状的识别，通过对字形进行分析来确定编码。
4. **显示与输入**：计算机根据字符的编码来显示相应的字形。当用户输入字符时，计算机会根据输入的编码来识别并显示相应的字符。
5. **编码标准**：字形码的标准化对于字符的一致性和互通性至关重要。因此，制定和遵守一定的编码标准对于字形码的正确显示和处理非常重要。
